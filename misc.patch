diff --git a/ex.c b/ex.c
index c5b722d..5139cd3 100644
--- a/ex.c
+++ b/ex.c
@@ -181,6 +181,9 @@ static char *ex_pathexpand(char *src, int spaceallowed)
 			}
 			sbuf_str(sb, pbuf->path)
 			src += n >= 0 ? snprintf(0, 0, "%+d", n) : 1;
+		} else if (*src == '~') {
+			sbuf_str(sb, getenv("HOME"))
+			src++;
 		} else {
 			if (*src == '\\' && src[1])
 				src++;
diff --git a/reindex.sh b/reindex.sh
index 0b047d8..a51e7f3 100755
--- a/reindex.sh
+++ b/reindex.sh
@@ -1,9 +1,11 @@
 for p in *.patch
 do
+	echo "PATCH: $p"
 	patch < $p
 	git diff > ./tmp
-	patch -R < $p
+	patch -R < $p &>/dev/null
 	cp tmp $p
 	git add $p
+	echo "END PATCH: $p"
 done
 rm tmp *.orig
diff --git a/vi.c b/vi.c
index 69f2981..43aa218 100644
--- a/vi.c
+++ b/vi.c
@@ -1684,6 +1684,12 @@ void vi(int init)
 					free(ln);
 					free(cs);
 					break;
+				case 'n':
+					k = vi_read();
+					char buf[] = "i ";
+					buf[1] = k;
+					term_push(buf, 3);
+					break;
 				case 't': {
 					strcpy(vi_msg, "arg2:(0|#)");
 					vi_drawmsg();
