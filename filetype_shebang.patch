diff --cc ex.c
index ff888d5,1b4ab70..0000000
--- a/ex.c
+++ b/ex.c
@@@ -409,6 -398,20 +409,19 @@@ static int ec_edit(char *loc, char *cmd
  		ex_show(msg);
  	} else
  		ex_show("read failed");
+ 	if (lbuf_len(xb) > 0) {
+ 		int adv = 0;
+ 		while (lbuf_len(xb) >= adv && lbuf_buf(xb)[adv][0] == '\n')
+ 			adv++;
+ 		char *langs[] = {"/bin/sh", "/bin/python"};
+ 		char *types[] = {"sh", "py"};
+ 		for (int i = 0; i < LEN(langs); i++) {
+ 			if (strstr(lbuf_buf(xb)[adv], langs[i])) {
+ 				strcpy(ex_buf->ft, types[i]);
+ 				syn_setft(ex_buf->ft);
+ 			}
+ 		}
+ 	}
 -	free(path);
  	return 0;
  }
  
